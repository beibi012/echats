{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as echarts from 'echarts';\nvar getCanvas = function (echaetsType, brandData, dom, chooseMonth) {\n  const echarts1 = echarts.init(dom);\n  let canvas;\n  let xAxis = [];\n  let title = \"\";\n  if (echaetsType == \"line\") {\n    let lineData = [];\n    brandData.forEach(e => {\n      let chooseData = [];\n      chooseMonth.forEach(val => {\n        let key = 'month' + val;\n        chooseData.push(e.monthData[0][key]);\n        title = val.toString() + \"、\";\n      });\n      lineData.push({\n        data: chooseData,\n        name: e.brandName,\n        type: 'line'\n      });\n    });\n    title.slice(0, str.length - 1) + \"月折线图\";\n    chooseMonth.forEach(e => {\n      xAxis.push(e + \"月\");\n    });\n    canvas = echarts1.setOption({\n      title: {\n        text: title,\n        left: 'left'\n      },\n      tooltip: {\n        trigger: 'axis'\n      },\n      legend: {\n        right: 20,\n        orient: 'vertical'\n      },\n      grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n      },\n      toolbox: {\n        feature: {\n          saveAsImage: {}\n        }\n      },\n      xAxis: {\n        type: 'category',\n        data: xAxis\n      },\n      yAxis: {\n        type: 'value'\n      },\n      series: lineData\n    });\n  }\n  if (echaetsType == \"pie\") {\n    let pieData = [];\n    brandData.forEach(e => {\n      let total = 0;\n      chooseMonth.forEach(val => {\n        let key = 'month' + val;\n        total += e.monthData[0][key];\n      });\n      pieData.push({\n        value: total,\n        name: e.brandName\n      });\n    });\n    canvas = echarts1.setOption({\n      title: {\n        text: '',\n        left: 'left'\n      },\n      tooltip: {\n        trigger: 'item'\n      },\n      legend: {\n        orient: 'vertical',\n        left: 'right'\n      },\n      series: [{\n        name: '销量',\n        type: 'pie',\n        radius: '50%',\n        data: pieData,\n        emphasis: {\n          itemStyle: {\n            shadowBlur: 10,\n            shadowOffsetX: 0,\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\n          }\n        }\n      }]\n    });\n  }\n  if (echaetsType == \"bar\") {\n    let barData = [];\n    brandData.forEach(e => {\n      let chooseData = [];\n      chooseMonth.forEach(val => {\n        let key = 'month' + val;\n        chooseData.push(e.monthData[0][key]);\n      });\n      barData.push({\n        data: chooseData,\n        name: e.brandName,\n        type: 'bar'\n      });\n    });\n    console.log(barData);\n    chooseMonth.forEach(e => {\n      xAxis.push(e + \"月\");\n    });\n    canvas = echarts1.setOption({\n      xAxis: {\n        type: 'category',\n        data: xAxis\n      },\n      yAxis: {\n        type: 'value'\n      },\n      tooltip: {\n        trigger: 'axis'\n      },\n      legend: {\n        orient: 'vertical',\n        left: 'right'\n      },\n      series: barData\n    });\n  }\n  return canvas;\n};\nexport default getCanvas;","map":{"version":3,"names":["echarts","getCanvas","echaetsType","brandData","dom","chooseMonth","echarts1","init","canvas","xAxis","title","lineData","forEach","e","chooseData","val","key","push","monthData","toString","data","name","brandName","type","slice","str","length","setOption","text","left","tooltip","trigger","legend","right","orient","grid","bottom","containLabel","toolbox","feature","saveAsImage","yAxis","series","pieData","total","value","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","barData","console","log"],"sources":["/Users/zrs/Desktop/lx/myapp2.0/src/js/canvas.js"],"sourcesContent":["import * as echarts from'echarts'\n\n\nvar getCanvas=function (echaetsType,brandData,dom,chooseMonth) {\n    const  echarts1=echarts.init(dom)\n    let canvas\n    let xAxis=[]\n    let title=\"\"\n    if(echaetsType==\"line\"){\n        let lineData=[]\n        brandData.forEach((e)=>{\n            let chooseData=[]\n            chooseMonth.forEach((val)=>{\n                let key='month'+val\n                chooseData.push(e.monthData[0][key])\n                title=val.toString()+\"、\"\n            })\n            lineData.push({\n                data:chooseData,\n                name:e.brandName,\n                type: 'line'\n            })\n        })\n        title.slice(0,str.length-1)+\"月折线图\"\n        chooseMonth.forEach((e)=>{\n            xAxis.push(e+\"月\")\n        })\n        canvas=echarts1.setOption({\n            title: {\n                text: title,\n                left:'left'\n            },\n            tooltip: {\n                trigger: 'axis'\n            },\n            legend: {\n                right:20,\n                orient: 'vertical',\n            },\n            grid: {\n                left: '3%',\n                right: '4%',\n                bottom: '3%',\n                containLabel: true\n            },\n            toolbox: {\n                feature: {\n                    saveAsImage: {}\n                }\n            },\n            xAxis: {\n                type: 'category',\n                data: xAxis\n            },\n            yAxis: {\n                type: 'value'\n            },\n            series: lineData\n        });\n    }\n    if(echaetsType==\"pie\"){\n        let pieData=[]\n        brandData.forEach((e)=>{\n            let total=0\n                chooseMonth.forEach((val)=>{\n                let key='month'+val\n                total+=e.monthData[0][key]\n            })\n            pieData.push({\n                value:total,\n                name:e.brandName\n            })\n        })\n        canvas=echarts1.setOption({\n            title: {\n                text: '',\n                left: 'left'\n            },\n            tooltip: {\n                trigger: 'item'\n            },\n            legend: {\n                orient: 'vertical',\n                left: 'right'\n            },\n            series: [\n                {\n                    name: '销量',\n                    type: 'pie',\n                    radius: '50%',\n                    data: pieData,\n                    emphasis: {\n                        itemStyle: {\n                            shadowBlur: 10,\n                            shadowOffsetX: 0,\n                            shadowColor: 'rgba(0, 0, 0, 0.5)'\n                        }\n                    }\n                }\n            ]\n        })\n    }\n\n    if(echaetsType==\"bar\"){\n        let barData=[]\n        brandData.forEach((e)=>{\n            let chooseData=[]\n            chooseMonth.forEach((val)=>{\n                let key='month'+val\n                chooseData.push(e.monthData[0][key])\n            })\n            barData.push({\n                data:chooseData,\n                name:e.brandName,\n                type: 'bar'\n            })\n        })\n        console.log(barData)\n        chooseMonth.forEach((e)=>{\n            xAxis.push(e+\"月\")\n        })\n        canvas=echarts1.setOption({\n            xAxis: {\n                type: 'category',\n                data: xAxis\n            },\n            yAxis: {\n                type: 'value'\n            },\n            tooltip: {\n                trigger: 'axis'\n            },\n            legend: {\n                orient: 'vertical',\n                left: 'right'\n            },\n            series: barData\n        })\n    }\n\nreturn canvas\n}\nexport default getCanvas"],"mappings":"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"},"metadata":{},"sourceType":"module"}